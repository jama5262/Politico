<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Reset</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../assets/css/main.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="./css/main.css" />
    <script src="../assets/js/main.js"></script>
  </head>
  <body>
    <div class="main-container">
      <div class="title-container">
        <h1 style="font-size: 50px; margin: 0" class="text-color-design-primary">Reset<br> Password</h1>
        <p id="message" style="margin: 10px 0">Input your email to reset your password</p>
      </div>
      <div class="sub-container">
        <div style="display: flex; flex-direction: column" class="card-design">
          <div id="email-container">
            <input class="input-design" placeholder="Email" type="email" required name="" id="emailReset">
          </div>
          <div style="display: none; flex-direction: column" id="password-container">
            <input class="input-design" placeholder="New Password" type="password" required name="" id="nPassWordReset">
            <input class="input-design" placeholder="Repeat New Password" type="password" required name="" id="rPassWordReset">
          </div>
        </div>
      </div>
      <div class="button-container">
        <button id="goBack" class="button-design">go back</button>
        <button id="submit" class="button-design">send email link</button>
      </div>
    </div>
  </body>
</html>

<style scoped>
  a{
    color: orange;
    text-align: center;
  }
  body{
    display: flex;
    align-items: center;
    justify-content: center;
  }
</style>

<script>
  let emailContainer = document.getElementById("email-container");
  let passwordContainer = document.getElementById("password-container");
  let submit = document.getElementById("submit");
  let message = document.getElementById("message");
  let email = document.getElementById("emailReset");
  let nPassword = document.getElementById("nPassWordReset");
  let rPassword = document.getElementById("rPassWordReset");

  let resetEmail = false;

  let messageInfo = (text, color) => {
    message.style.color = color;
    message.innerHTML = text;
  }

  submit.addEventListener("click", () => {
    if (!resetEmail) {
      if (email.value == "") {
        messageInfo("Please fill in your email", "red")
      }else {
        resetEmail = true;
        passwordContainer.style.display = "flex";
        emailContainer.style.display = "none";
        submit.innerHTML = "reset password";
        messageInfo("Enter your new password", "black");
      }
    }else {
      if (nPassword.value == "" || rPassword.value == "") {
        messageInfo("Please fill in both password fields", "red");
      }else {
        messageInfo("Your password has been reset", "green");
        submit.style.display = "none";
      }
    }
  });
</script>